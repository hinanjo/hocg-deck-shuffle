function displayResults(shuffledResults) {
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = shuffledResults.map((result, index) => `
    <div class="result-card">
      <h3 class="result-title">シャッフル結果 ${index + 1}</h3>
      
      <div class="deck-section">
        <h4 class="deck-title">メインデッキ (7枚)</h4>
        <div class="card-grid">
          ${result.mainDeck.map((card, i) => `
            <div class="card-item">
              <div class="card-image">
                <img 
                  src="images/${card.img.replace(/\\/g, '/')}" 
                  alt="${card.name}"
                  loading="lazy"
                  onerror="this.src='images/Back_side.png'"
                >
              </div>
              <div class="card-details">
                <span class="card-number">${i + 1}.</span>
                <span class="card-name">${card.name}</span>
                <span class="card-id">(${card.card_number})</span>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <div class="deck-section">
        <h4 class="deck-title">サブデッキ (1枚)</h4>
        <div class="card-grid">
          ${result.subDeck.map(card => `
            <div class="card-item">
              <div class="card-image">
                <img 
                  src="images/${card.img.replace(/\\/g, '/')}" 
                  alt="${card.name}"
                  loading="lazy"
                  onerror="this.src='images/Back_side.png'"
                >
              </div>
              <div class="card-details">
                <span class="card-name">${card.name}</span>
                <span class="card-id">(${card.card_number})</span>
              </div>
            </div>
          `).join('')}
        </div>
      </div>
    </div>
  `).join('');
}
